### Установите Apache Kafka удобным способом.
https://kafka.apache.org/quickstart
#### установка на виртуальную машину под управлением `Debian 13`
#### установка `Java`
```bash
sudo apt install -y default-jre default-jdk
```
#### скачивание и конфигурирование сервера `kafka`
```bash
wget https://dlcdn.apache.org/kafka/4.1.1/kafka_2.13-4.1.1.tgz && \
tar -xzf kafka_2.13-4.1.1.tgz && \
cd kafka_2.13-4.1.1 && \
KAFKA_CLUSTER_ID="$(bin/kafka-storage.sh random-uuid)" && \
bin/kafka-storage.sh format --standalone -t $KAFKA_CLUSTER_ID -c config/server.properties
```
#### запуск `kafka`
```bash
bin/kafka-server-start.sh config/server.properties
```

### Установите ClickHouse и выполните необходимые настройки для работы с Kafka.
В качестве приёмника данных используется кластер `clickhouse`, развёрнутый в рамках предыдущих домашних заданий. Поскольку авторизация в `kafka` не настраивалась, то дополнительных настроек не требуется.

### Запишите данные в Kafka и настройте пайплайн чтения через Kafka Engine, затем переместите их в таблицу MergeTree с помощью Materialized View.
#### отправка тестовых данных в топик
```bash
ksg@click-01:~$ echo "test" | kcat -P -b 192.168.10.41:9092 -t topic
ksg@click-01:~$ echo "testtesttest" | kcat -P -b 192.168.10.41:9092 -t topic
ksg@click-01:~$ echo "testtest" | kcat -P -b 192.168.10.41:9092 -t topic
```
#### проврка наличия данных в топике
```bash
ksg@click-01:~$ kcat -C -b 192.168.10.41:9092 -t topic -Z -K:
NULL:test
NULL:testtesttest
NULL:testtest
% Reached end of topic topic [0] at offset 5
```
#### создание таблицы с данными
```sql
click-01.lan :) 
CREATE TABLE kafka_test
(
    `message` String,
    `ts` DateTime DEFAULT now()
)
ENGINE = MergeTree
ORDER BY ts

Query id: 5975bcf7-8f1d-42e7-96b5-5fe99cc4a034

Ok.

0 rows in set. Elapsed: 0.016 sec.
```
#### создание таблицы-подключения к `kafka`
```sql
click-01.lan :) 
CREATE TABLE kafka_kafka
(
    `message` String
)
ENGINE = Kafka
SETTINGS kafka_broker_list = '192.168.10.41:9092', kafka_topic_list = 'topic', kafka_group_name = 'group', kafka_format = 'CSV'

Query id: baf4e7f7-999e-4ac6-9f7e-a6ef37800877

Ok.

0 rows in set. Elapsed: 0.042 sec.
```
#### создание материализованного представления для наполнения таблицы с данными
```sql
click-01.lan :)
CREATE MATERIALIZED VIEW kafka_mv TO kafka_test
(
    `message` String
)
AS SELECT message
FROM kafka_kafka

Query id: e9f7d365-f9ed-46fd-b373-639a76476282

Ok.

0 rows in set. Elapsed: 0.023 sec.
```

### Проверьте корректность чтения данных из Kafka в ClickHouse.
```sql
click-01.lan :) select * from kafka_test

SELECT *
FROM kafka_test

Query id: 66c84d33-cb50-4afd-ba77-9e431a6930a8

   ┌─message──────┬──────────────────ts─┐
1. │ test         │ 2025-11-22 18:49:50 │
2. │ testtesttest │ 2025-11-22 18:50:02 │
3. │ testtest     │ 2025-11-22 18:50:12 │
   └──────────────┴─────────────────────┘

3 rows in set. Elapsed: 0.029 sec.
```
